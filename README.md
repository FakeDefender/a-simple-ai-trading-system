# AIé©±åŠ¨çš„é‡åŒ–äº¤æ˜“ç­–ç•¥ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºäººå·¥æ™ºèƒ½å’Œå¤§è¯­è¨€æ¨¡å‹çš„æ™ºèƒ½é‡åŒ–äº¤æ˜“ç­–ç•¥ç³»ç»Ÿï¼Œé›†æˆäº†å¤šæ™ºèƒ½ä½“åä½œã€æŠ€æœ¯åˆ†æã€é£é™©ç®¡ç†å’Œå›æµ‹åˆ†æåŠŸèƒ½ã€‚

## ğŸš€ é¡¹ç›®ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- **å¤šæ™ºèƒ½ä½“åä½œ**ï¼šç­–ç•¥å¼€å‘è€…ã€é£é™©åˆ†æå¸ˆã€äº¤æ˜“é¡¾é—®ä¸‰ä¸ªAIæ™ºèƒ½ä½“ååŒå·¥ä½œ
- **LLMé©±åŠ¨ç­–ç•¥ç”Ÿæˆ**ï¼šä½¿ç”¨OpenAI GPTæ¨¡å‹åŠ¨æ€ç”Ÿæˆäº¤æ˜“ç­–ç•¥
- **å…¨é¢æŠ€æœ¯åˆ†æ**ï¼šæ”¯æŒ20+ç§æŠ€æœ¯æŒ‡æ ‡ï¼ˆMAã€RSIã€MACDã€å¸ƒæ—å¸¦ç­‰ï¼‰
- **æ™ºèƒ½é£é™©ç®¡ç†**ï¼šåŠ¨æ€æ­¢æŸã€ä»“ä½ç®¡ç†ã€é£é™©æŒ‡æ ‡ç›‘æ§
- **å®Œæ•´å›æµ‹ç³»ç»Ÿ**ï¼šå†å²æ•°æ®å›æµ‹ã€ç»©æ•ˆåˆ†æã€é£é™©è¯„ä¼°

### æŠ€æœ¯ç‰¹è‰²
- **è‡ªé€‚åº”ç­–ç•¥è°ƒæ•´**ï¼šæ ¹æ®è‚¡ç¥¨ç‰¹å¾è‡ªåŠ¨è°ƒæ•´ç­–ç•¥å‚æ•°
- **å¤šæ•°æ®æºæ”¯æŒ**ï¼šStooqã€Yahoo Financeç­‰å¤šä¸ªæ•°æ®æº
- **å®æ—¶æ•°æ®å¤„ç†**ï¼šæ”¯æŒåˆ†é’Ÿçº§åˆ°æ—¥çº§å¤šç§æ—¶é—´å‘¨æœŸ
- **å¯è§†åŒ–åˆ†æ**ï¼šæƒç›Šæ›²çº¿ã€å›æ’¤åˆ†æã€äº¤æ˜“è®°å½•å›¾è¡¨
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šé«˜åº¦è§£è€¦çš„ç»„ä»¶æ¶æ„ï¼Œæ˜“äºæ‰©å±•

## ğŸ“Š ç³»ç»Ÿæ¶æ„

```
AIé‡åŒ–äº¤æ˜“ç³»ç»Ÿ
â”œâ”€â”€ æ•°æ®å±‚ (Data Layer)
â”‚   â”œâ”€â”€ æ•°æ®è·å– (DataLoader)
â”‚   â”œâ”€â”€ æ•°æ®å¤„ç† (DataProcessor)
â”‚   â””â”€â”€ æ•°æ®å­˜å‚¨ (DataStorage)
â”œâ”€â”€ ç­–ç•¥å±‚ (Strategy Layer)
â”‚   â”œâ”€â”€ MLç­–ç•¥æ™ºèƒ½ä½“ (MLStrategyAgent)
â”‚   â”œâ”€â”€ å¤šæ™ºèƒ½ä½“åä½œ
â”‚   â””â”€â”€ ä¿¡å·ç”Ÿæˆ
â”œâ”€â”€ é£é™©å±‚ (Risk Layer)
â”‚   â”œâ”€â”€ é£é™©è®¡ç®—å™¨ (RiskCalculator)
â”‚   â”œâ”€â”€ ä»“ä½ç®¡ç†
â”‚   â””â”€â”€ æ­¢æŸæ­¢ç›ˆ
â””â”€â”€ æ‰§è¡Œå±‚ (Execution Layer)
    â”œâ”€â”€ å›æµ‹å¼•æ“
    â”œâ”€â”€ ç»©æ•ˆåˆ†æ
    â””â”€â”€ ç»“æœè¾“å‡º
```

## ğŸ› ï¸ å®‰è£…æŒ‡å—

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- 8GB+ RAM
- ç¨³å®šçš„ç½‘ç»œè¿æ¥ï¼ˆç”¨äºæ•°æ®è·å–å’ŒLLMè°ƒç”¨ï¼‰

### å¿«é€Ÿå®‰è£…

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd trading-ai-system
```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ–
venv\Scripts\activate     # Windows
```

3. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

4. **é…ç½®APIå¯†é’¥**
```bash
# å¤åˆ¶é…ç½®æ¨¡æ¿
cp src/config/api_keys.yaml.template src/config/api_keys.yaml

# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ ä½ çš„OpenAI APIå¯†é’¥
# openai:
#   api_key: "your-openai-api-key"
#   model: "gpt-3.5-turbo"
```

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### åŸºç¡€ä½¿ç”¨

1. **é…ç½®äº¤æ˜“æ ‡çš„**
ç¼–è¾‘ `src/config/config.yaml`ï¼š
```yaml
data:
  symbol: 'aapl.us'  # è‹¹æœè‚¡ç¥¨
  interval: 'd'      # æ—¥çº¿æ•°æ®
  start_date: '2023-01-01'
  end_date: '2024-12-31'
```

2. **è¿è¡Œå›æµ‹**
```bash
python src/main.py
```

3. **æŸ¥çœ‹ç»“æœ**
ç»“æœå°†ä¿å­˜åœ¨ `results/` ç›®å½•ä¸‹ï¼ŒåŒ…å«ï¼š
- äº¤æ˜“è®°å½• (`trades.csv`)
- æƒç›Šæ›²çº¿ (`equity_curve.csv`)
- ç»©æ•ˆæŒ‡æ ‡ (`metrics.json`)
- å¯è§†åŒ–å›¾è¡¨ (`backtest_results.png`)

### é«˜çº§é…ç½®

**ç­–ç•¥å‚æ•°è°ƒæ•´**
```yaml
strategy:
  type: 'trend_following'
  rsi_period: 14
  rsi_oversold_threshold: 30
  rsi_overbought_threshold: 70
  
risk:
  stop_loss: 0.03      # 3%æ­¢æŸ
  take_profit: 0.06    # 6%æ­¢ç›ˆ
  max_position: 1.0    # æœ€å¤§ä»“ä½
```

**å›æµ‹è®¾ç½®**
```yaml
backtest:
  initial_capital: 1000000  # åˆå§‹èµ„é‡‘100ä¸‡
  commission: 0.001         # æ‰‹ç»­è´¹0.1%
  slippage: 0.001          # æ»‘ç‚¹0.1%
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
trading-ai-system/
â”œâ”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ agents/                   # AIæ™ºèƒ½ä½“æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ ml_strategy_agent.py  # ä¸»ç­–ç•¥æ™ºèƒ½ä½“
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ utils/                    # å·¥å…·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ data_loader.py        # æ•°æ®åŠ è½½å™¨
â”‚   â”‚   â”œâ”€â”€ data_processor.py     # æ•°æ®å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ data_storage.py       # æ•°æ®å­˜å‚¨
â”‚   â”‚   â”œâ”€â”€ openai_client.py      # OpenAIå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ risk_calculator.py    # é£é™©è®¡ç®—å™¨
â”‚   â”‚   â”œâ”€â”€ config_loader.py      # é…ç½®åŠ è½½å™¨
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ config/                   # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ config.yaml           # ä¸»é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ api_keys.yaml         # APIå¯†é’¥é…ç½®
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                   # ä¸»ç¨‹åºå…¥å£
â”‚   â””â”€â”€ __init__.py
â”œâ”€â”€ data/                         # æ•°æ®ç›®å½•
â”œâ”€â”€ results/                      # ç»“æœè¾“å‡ºç›®å½•
â”œâ”€â”€ tests/                        # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ requirements.txt              # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ setup.py                      # å®‰è£…é…ç½®
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
```

## ğŸ”§ æ ¸å¿ƒç»„ä»¶

### 1. MLStrategyAgent (ä¸»ç­–ç•¥æ™ºèƒ½ä½“)
- **åŠŸèƒ½**ï¼šåè°ƒå¤šä¸ªAIæ™ºèƒ½ä½“ï¼Œç”Ÿæˆäº¤æ˜“ä¿¡å·
- **ç‰¹æ€§**ï¼šè‡ªé€‚åº”å‚æ•°è°ƒæ•´ã€å¤šç­–ç•¥æ”¯æŒ
- **è¾“å…¥**ï¼šå¸‚åœºæ•°æ®ã€æŠ€æœ¯æŒ‡æ ‡
- **è¾“å‡º**ï¼šä¹°å…¥/å–å‡º/æŒæœ‰ä¿¡å·

### 2. DataLoader (æ•°æ®åŠ è½½å™¨)
- **åŠŸèƒ½**ï¼šä»å¤šä¸ªæ•°æ®æºè·å–è‚¡ç¥¨æ•°æ®
- **æ”¯æŒ**ï¼šStooqã€Yahoo Finance
- **ç‰¹æ€§**ï¼šæ•°æ®ç¼“å­˜ã€å¢é‡æ›´æ–°ã€é”™è¯¯é‡è¯•

### 3. DataProcessor (æ•°æ®å¤„ç†å™¨)
- **åŠŸèƒ½**ï¼šè®¡ç®—æŠ€æœ¯æŒ‡æ ‡ã€æ•°æ®æ¸…æ´—
- **æŒ‡æ ‡**ï¼šMAã€RSIã€MACDã€å¸ƒæ—å¸¦ã€ATRç­‰20+ç§
- **ç‰¹æ€§**ï¼šå‘é‡åŒ–è®¡ç®—ã€ç¼ºå¤±å€¼å¤„ç†

### 4. RiskCalculator (é£é™©è®¡ç®—å™¨)
- **åŠŸèƒ½**ï¼šé£é™©æŒ‡æ ‡è®¡ç®—ã€ä»“ä½ç®¡ç†
- **æŒ‡æ ‡**ï¼šVaRã€æœ€å¤§å›æ’¤ã€å¤æ™®æ¯”ç‡ã€æ³¢åŠ¨ç‡
- **ç‰¹æ€§**ï¼šå®æ—¶é£é™©ç›‘æ§ã€åŠ¨æ€è°ƒæ•´

## ğŸ“ˆ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šè‹¹æœè‚¡ç¥¨è¶‹åŠ¿è·Ÿè¸ªç­–ç•¥
```python
from src.agents.ml_strategy_agent import MLStrategyAgent
from src.utils.config_loader import load_config
from src.utils.data_loader import DataLoader

# åŠ è½½é…ç½®
config = load_config()
config['data']['symbol'] = 'aapl.us'

# åˆ›å»ºç»„ä»¶
data_loader = DataLoader(config)
strategy_agent = MLStrategyAgent(config, data_loader)

# è·å–æ•°æ®å¹¶ç”Ÿæˆä¿¡å·
market_data = data_loader.load_data('aapl.us', 'd')
signals = strategy_agent.generate_signals(market_data)

# è¿è¡Œå›æµ‹
results = strategy_agent._backtest_strategy(market_data, signals)
```

### ç¤ºä¾‹2ï¼šå¤šè‚¡ç¥¨æ‰¹é‡å›æµ‹
```python
symbols = ['aapl.us', 'tsla.us', 'msft.us']
results = {}

for symbol in symbols:
    config['data']['symbol'] = symbol
    # ... è¿è¡Œå›æµ‹é€»è¾‘
    results[symbol] = backtest_results
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

ç³»ç»Ÿæ”¯æŒä»¥ä¸‹ç»©æ•ˆå’Œé£é™©æŒ‡æ ‡ï¼š

### ç»©æ•ˆæŒ‡æ ‡
- **æ€»æ”¶ç›Šç‡**ï¼šç­–ç•¥æ€»ä½“æ”¶ç›Šè¡¨ç°
- **å¹´åŒ–æ”¶ç›Šç‡**ï¼šå¹´åŒ–åçš„æ”¶ç›Šç‡
- **å¤æ™®æ¯”ç‡**ï¼šé£é™©è°ƒæ•´åæ”¶ç›Š
- **èƒœç‡**ï¼šç›ˆåˆ©äº¤æ˜“å æ¯”
- **ç›ˆäºæ¯”**ï¼šå¹³å‡ç›ˆåˆ©/å¹³å‡äºæŸ

### é£é™©æŒ‡æ ‡
- **æœ€å¤§å›æ’¤**ï¼šå†å²æœ€å¤§äºæŸå¹…åº¦
- **VaR (95%)**ï¼š95%ç½®ä¿¡åº¦ä¸‹çš„é£é™©ä»·å€¼
- **æ³¢åŠ¨ç‡**ï¼šæ”¶ç›Šç‡æ ‡å‡†å·®
- **Betaç³»æ•°**ï¼šç›¸å¯¹å¸‚åœºçš„ç³»ç»Ÿæ€§é£é™©
- **ç›¸å…³æ€§**ï¼šä¸åŸºå‡†çš„ç›¸å…³ç¨‹åº¦

## ğŸ” æµ‹è¯•ç»“æœç¤ºä¾‹

### ç‰¹æ–¯æ‹‰è‚¡ç¥¨ (TSLA) - ä¼˜åŒ–ç­–ç•¥
```
æ€»æ”¶ç›Šç‡: 44.66%
å¤æ™®æ¯”ç‡: 3.77
èƒœç‡: 45.83%
æœ€å¤§å›æ’¤: 16.68%
äº¤æ˜“æ¬¡æ•°: 24ç¬”
```

## ğŸš§ å¼€å‘è®¡åˆ’

### è¿‘æœŸè®¡åˆ’
- [ ] å¢åŠ æ›´å¤šæŠ€æœ¯æŒ‡æ ‡
- [ ] æ”¯æŒåŠ å¯†è´§å¸æ•°æ®
- [ ] å®ç°å®ç›˜äº¤æ˜“æ¥å£
- [ ] æ·»åŠ æœºå™¨å­¦ä¹ æ¨¡å‹

### é•¿æœŸè®¡åˆ’
- [ ] å¤šèµ„äº§ç»„åˆä¼˜åŒ–
- [ ] é«˜é¢‘äº¤æ˜“ç­–ç•¥
- [ ] æƒ…æ„Ÿåˆ†æé›†æˆ
- [ ] Webç•Œé¢å¼€å‘

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## âš ï¸ å…è´£å£°æ˜

æœ¬ç³»ç»Ÿä»…ç”¨äºæ•™è‚²å’Œç ”ç©¶ç›®çš„ã€‚ä½¿ç”¨æœ¬ç³»ç»Ÿè¿›è¡Œå®é™…äº¤æ˜“çš„é£é™©ç”±ç”¨æˆ·è‡ªè¡Œæ‰¿æ‹…ã€‚è¿‡å¾€è¡¨ç°ä¸ä»£è¡¨æœªæ¥æ”¶ç›Šï¼ŒæŠ•èµ„æœ‰é£é™©ï¼Œå…¥å¸‚éœ€è°¨æ…ã€‚

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ Issue
- å‘é€é‚®ä»¶ï¼š1781853359@qq.com

---